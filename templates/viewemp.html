{% extends 'base.html' %} {% block body %}
{% load static %}
<h1 class="text-center">Employee Details</h1>
<hr>
<div class="container" style="width:50%;">
    <form id="empForm" method="POST" action="/viewemp/{{object.id}}" enctype="multipart/form-data">
        {% csrf_token %}
        <label for="empid" class="form-label" >Emp Id</label>
        <input type="text" class="form-control" name="empid" value={{object.empid}}><br />
        <label for="name" class="form-label" >Emp Name</label>
        <input type="text" class="form-control" name="name" value={{object.name}}><br />
        <label for="contact" class="form-label" >Emp Contact</label>
        <input type="text" class="form-control" name="contact" value={{object.contact}}><br />
        <label for="email" class="form-label" >Emp Email</label>
        <input type="text" class="form-control" name="email" value={{object.email}}><br />
        <label for="dept" class="form-label" >Emp Dept</label>
        <input type="text" class="form-control" name="dept" value={{object.dept}}><br />
        <label for="doj" class="form-label" >Emp DOJ</label>
        <input type="text" class="form-control" name="doj" value={{object.doj}}><br />
        <label for="dob" class="form-label" >Emp DOB</label>
        <input type="text" class="form-control" name="dob" value={{object.dob}}><br />
        
        <label for="empphoto" class="form-label" >Emp Photo</label><br />
            <img src="{{object.empphoto.url}}">
        <input type="file" class="form-control" name="empphoto"><br />
        <button type="submit" class="btn btn-primary">Update Employee</button>
        <a class="btn btn-danger" id="removeButton" href="/delete/{{ object.id }}" role="button">Delete Employee</a>
    </form>
    
</div>
<script>
    let removeButton = document.getElementById('removeButton');
    removeButton.onclick = function() {
    let accepted = confirm("Are you sure you want to delete this?");
    if (accepted) {
        document.getElementById('empForm').submit();
    }
}
</script>
{% endblock body %}